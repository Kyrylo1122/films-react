"use strict";(self.webpackChunkfilms_react=self.webpackChunkfilms_react||[]).push([[155],{6155:function(e,s,i){i.r(s),i.d(s,{default:function(){return x}});var n=i(1413),t=i(885),l=i(2791),a=i(9434),r=i(6949),c=i(182),m=i(2663),o=function(e){return e.map((function(e){return e.name})).join(", ")},d=i(9085),u=i(6749),f=i(184);function _(){var e=(0,l.useState)(null),s=(0,t.Z)(e,2),i=s[0],_=s[1],h=(0,l.useState)(!1),x=(0,t.Z)(h,2),p=x[0],j=x[1],N=(0,a.v9)((function(e){return e.gallery.myLibrary})),v=(0,a.v9)((function(e){return e.gallery.selectedId})),y=(0,a.I0)();if((0,l.useEffect)((function(){j(!0);try{(0,r.yi)(v).then((function(e){return _(e)})).finally((function(){return j(!1)}))}catch(e){console.log(e)}}),[v]),p)return(0,f.jsx)(u.Z,{});if(i){var b=i.poster_path,g=i.title,w=i.vote_average,k=i.vote_count,Z=i.popularity,C=i.original_title,E=i.genres,L=i.overview,A=o(E);return(0,f.jsxs)("ul",{className:"modal__list",children:[(0,f.jsx)("li",{className:"modal__item modal__item--top",children:(0,f.jsx)("div",{className:"modal-card--top",children:(0,f.jsx)("img",{src:b?"https://image.tmdb.org/t/p/w500/".concat(b):m,alt:C,className:"film__img"})})}),(0,f.jsx)("li",{className:"modal__item ",children:(0,f.jsxs)("div",{className:"modal-card--bottom",children:[(0,f.jsx)("h2",{className:"film__title",children:g}),(0,f.jsxs)("ul",{className:"film__list ",children:[(0,f.jsxs)("li",{className:"film__items",children:[(0,f.jsx)("p",{className:"film__items-text",children:"Vote / Votes:"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"film__span--vote",children:w}),(0,f.jsxs)("span",{className:"film__span",children:[" / ",k]})]})]}),(0,f.jsxs)("li",{className:"film__items",children:[(0,f.jsx)("p",{className:"film__items-text",children:"Popularity:"}),(0,f.jsx)("span",{className:"film__span",children:Z})]}),(0,f.jsxs)("li",{className:"film__items",children:[(0,f.jsx)("p",{className:"film__items-text",children:"Original Title:"}),(0,f.jsx)("span",{className:"film__span",children:C})]}),(0,f.jsxs)("li",{className:"film__items",children:[(0,f.jsx)("p",{className:"film__items-text",children:"Genre:"}),(0,f.jsxs)("span",{className:"film__span",children:[A," "]})]})]}),(0,f.jsx)("h3",{className:"film__about",children:"About"}),(0,f.jsx)("p",{className:"film__description",children:L}),(0,f.jsx)("button",{type:"button",className:"btn btn--active",onClick:function(){if(-1!==N.findIndex((function(e){return e.id===i.id})))return(0,d.Am)("Film already in library");var e=i.genres.map((function(e){return e.id}));return y((0,c.Lk)((0,n.Z)((0,n.Z)({},i),{},{genre_ids:e}))),(0,d.Am)("We add ".concat(i.title," to My library"))},children:"Add to My Library"})]})})]})}}var h=i(828);function x(e){var s=e.closeModal;(0,l.useEffect)((function(){var e=function(e){"Escape"===e.code&&s()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="unset"}}));return(0,f.jsx)("div",{className:"backdrop",onClick:function(e){e.currentTarget===e.target&&s()},children:(0,f.jsxs)("div",{className:"modal",children:[(0,f.jsx)("button",{type:"button",onClick:function(){s()},className:"modal__close-btn",children:(0,f.jsx)(h.sQZ,{color:"inherit",size:"1.5rem"})}),(0,f.jsx)(_,{})]})})}}}]);
//# sourceMappingURL=155.f7cdb168.chunk.js.map